@{
    if (ViewData.TryGetValue("ParentLayout", out var parentLayout))
    {
        Layout = (string)parentLayout;
    }
    else
    {
        Layout = "/Areas/Identity/Pages/_Layout.cshtml";
    }
}

@*<h1>Manage your account</h1>*@

<div>
    @*<h2>Change your account settings</h2>*@
    @*<hr />*@
    <div class="row">
        @* <div class="col-md-3">
        <partial name="_ManageNav" />
        </div>*@
        <div class="col-md-9">
            @RenderBody()
        </div>
    </div>
</div>

@section Scripts {
    @RenderSection("Scripts", required: false)
    <script>
        // Currently this uses jQuery, but could be done without
        // Pull Requests welcome! :P
        function setNavigation() {
            var path = window.location.pathname;
            console.log('current path:', path)
            path = path.replace(/\/$/, "");
            path = decodeURIComponent(path);

            $("#local-nav a").each(function() {
                var href = $(this).attr('href');
                if (path.substring(0, href.length) === href) {
                    $(this).closest('li').addClass('active');
                }
            });
        }

        $(function() {
            // when jquery is ready...
            setNavigation();
        });
    </script>
}
